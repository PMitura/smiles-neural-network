# Experiment rnn_edge_stitch
name: 'rnn_edge_stitch'

# Template for default values
template: 'rnn.yml'

# DB fetch params
fetch:
  table: 'output.stitch_120ls_400fs_907d'
  cols: ['smiles','fasta','score']
  order: 'smiles'
  index_col: ~
  limit: 100000
  where: ~ # length(fasta) <= 400 and length(smiles) <= 80

# Experiment params
params:
  data:
    smiles: 'smiles'
    fasta: 'fasta'
    nominals: ~
    labels: ['score']

    use_test_flags: false
    # testing: 'is_testing'
  rnn:

    # load_model: '595a0920126134c2c948cc7fb9a7a237befa4658'
    edge_prediction: true

    # RNN parameters
    learning_rate: 0.001
    epochs: 30

    objective: 'mse'

    label_binning: false
    label_binning_after_train: false
    label_binning_ratio: 0.5
    early_stop: 10

    chained_models: false
    trainable_inner: true

    zscore_norm: true
    logarithm: false

    # learning rate decay settings
    learning_rate_decay: false

    flag_based_hold: false
    holdout_ratio: 0.5

    # statistics settings
    comment: '[EDGE][STITCH907][RERUN][100K] fasta 400, smiles 80, predicting edge score, using pretrained models: smiles 6f7c46, fasta 7de8ee, popped output layers'
