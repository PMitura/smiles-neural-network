# Experiment rnn_10576_ki_vanilla
name: 'rnn_10576_ki_vanilla'

# Template for default values
template: 'rnn.yml'

# DB fetch params
fetch:
  table: 'output.target_10576_ki'
  cols: ['canonical_smiles','ki_33_0_1','is_testing']
  order: 'canonical_smiles'
  index_col: ~
  limit: ~
  where:  'length(canonical_smiles) <= 80'

# Experiment params
params:
  data:
    # number of label columns to prepare
    input_count: 1
    extra_nominals: 0
    label_count: 1
    use_test_flags: true
    # for statistics sending
    labels: ['ki_33_0_1']
    testing: 'is_testing'
  rnn:
    # RNN parameters
    learning_rate: 0.0001
    epochs: 300

    td_layer_multiplier: 2
    gru_layer_multiplier: 2

    classify: true            # regression if false
    classify_threshold: 0.5
    classify_label_pos: 1
    classify_label_neg: 0
    classify_activation: 'hard_sigmoid'

    objective: 'binary_crossentropy'

    label_binning: false
    label_binning_after_train: false
    label_binning_ratio: 0.5
    early_stop: 20

    chained_models: false
    trainable_inner: true

    zscore_norm: false
    logarithm: false

    # learning rate decay settings
    learning_rate_decay: false

    flag_based_hold: true
    holdout_ratio: 0.2

    # preprocessing switches
    label_idxs: 'range(1)'      # indexes of columns to use as label

    # statistics settings
    comment: '[10576KI][VANILLA] classify with vanilla rnn 0,1 labels'
