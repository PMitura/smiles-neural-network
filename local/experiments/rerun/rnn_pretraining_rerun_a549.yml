# Experiment rnn_pretraining_rerun_a549
name: 'rnn_pretraining_rerun_a549'

# Template for default values
template: 'rnn.yml'

# DB fetch params
fetch:
  table: 'output.target_a549'
  cols: ['canonical_smiles','standard_value_log','is_testing']
  order: 'canonical_smiles'
  index_col: ~
  limit: ~
  where:  ~ # 'length(canonical_smiles) <= 80'

# Experiment params
params:
  data:
    smiles: 'canonical_smiles'
    labels: ['standard_value_log']
    nominals: ~
    use_test_flags: true
    testing: 'is_testing'

  rnn:

    # load_model: '4b1958abcdf72ed6d6923d7c6fce2edb6e536ce3'

    # RNN parameters
    learning_rate: 0.001
    epochs: 50
    early_stop: 20

    classify: false            # regression if false
    label_binning: false
    label_binning_after_train: false
    label_binning_ratio: 0.5

    chained_models: false
    trainable_inner: true

    zscore_norm: true
    logarithm: false

    # learning rate decay settings
    learning_rate_decay: false

    flag_based_hold: true
    holdout_ratio: 0.2

    # statistics settings
    comment: '[RERUN][BIDIRECTIONAL][A549][GRUGRU][SUM] two bidirectional grus with sum merge mode'
